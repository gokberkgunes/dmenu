diff --git a/dmenu.c b/dmenu.c.old.newhastabtocycle
Tab cycles forward and comes back when hits the end, Shift+Tab is other way.
index 3b1d214..f96cc5f 100644
--- a/dmenu.c
+++ b/dmenu.c.old.newhastabtocycle
@@ -555,16 +555,12 @@ insert:
		}
		break;
+	case XK_Tab:
+		if(sel && sel->right)
+			sel = sel->right;
+		else
+			sel = matches;
+		if (sel == next) {
+			curr = next;
+			calcoffsets();
+		}
+		break;
+	case XK_ISO_Left_Tab:
+		if(sel && sel->left)
+			sel = sel->left;
+		else
+			sel = matchend;
+		if (sel == curr) {
+			curr = prev;
+			calcoffsets();
+		}
+		break;
-		if (!sel)
-			return;
-		strncpy(text, sel->text, sizeof text - 1);
-		text[sizeof text - 1] = '\0';
-		cursor = strlen(text);
-		match();
 		break;
 	}

